<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="renderer" content="webkit">
    <title>form</title>
    <link rel="stylesheet" type="text/css" href="./base.css">
    <link rel="stylesheet" type="text/css" href="./global.css">
    <!-- <link rel="stylesheet" type="text/css" href="./layout.css"> -->
    <link rel="stylesheet" type="text/css" href="./dpl.css">
    <link rel="stylesheet" type="text/css" href="./info.css">
    <link rel="stylesheet" type="text/css" href="./create.css">
    <!-- <link rel="stylesheet" type="text/css" href="./datepicker.css"> -->
    <!-- <link rel="stylesheet" type="text/css" href="./time.css"> -->
    <!-- <link rel="stylesheet" type="text/css" href="./form-reply-tips.css"> -->
    <style type="text/css">
        @charset "UTF-8";
        [ng\:cloak],
        [ng-cloak],
        [data-ng-cloak],
        [x-ng-cloak],
        .ng-cloak,
        .x-ng-cloak,
        .ng-hide:not(.ng-hide-animate) {
            display: none !important;
        }

        ng\:form {
            display: block;
        }
    </style>
    <script>
        var _hook = {};
    </script>
    <!--<script src="./lib/ueditor/zh-cn.js" type="text/javascript" defer="defer"></script>
    <link href="./lib/ueditor/ueditor.css" type="text/css" rel="stylesheet">
    <link charset="utf-8" rel="stylesheet" href="./ui-tips-box.css">-->
    <!--<link charset="utf-8" rel="stylesheet" href="./minEmoji.css">
    <link charset="utf-8" rel="stylesheet" href="./lib/jquery/jquery.mCustomScrollbar.css">
    <link charset="utf-8" rel="stylesheet" href="./lib/jquery/jquery.fancybox.css">
    <script src="./codemirror.js" type="text/javascript" defer="defer"></script>
    <link rel="stylesheet" type="text/css" href="./codemirror.css">-->
</head>

<body>
<div id="content" ng-app="form" class="ng-scope">
    <div class="box-full show-right-pane" show-right-pane="" ng-controller="DisplayFormController">
        <div class="box-bd">
            <!--Left start-->
            <div class="settings">
                <div tab-nav="" class="tab-nav ng-isolate-scope" pane-position="left">
                    <tab-pane tab-title="组件" mode="createForm" class="ng-scope ng-isolate-scope">
                        <div class="pane createForm" ng-show="state.mode == mode" >
                            <div class="fields ng-scope" id="field-box">
                                <div class="field-groups">
                                    <h4>常规组件</h4>
                                    <div class="field-list">
                                        <ul class="fn-clear">
                                            <field type="textInput" name="单行文本框" class="text-input ng-scope">
                                            </field>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </tab-pane>
                </div>
            </div>
            <!--Left end-->
            <div class="display" id="form-preview">
                <div class="display-wrap">
                    <div class="form-content">
                        <div class="form-title">
                            <div class="form-title-wrap">
                                <div>
                                    <div class="form-basic-info" ng-click="state.mode = editForm">
                                        <h3 class="ng-binding">表单</h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-body">
                            <div class="fields" sortable ng-model="state.form.fields">
                                <div ng-cloak data-field-id="{{field.fieldId}}"
                                     data-field-index="-1"
                                     class="field-occupy"
                                     ng-show="state| showOccupy: -1">
                                </div>
                                <div ng-repeat='field in state.form.fields' sortable-item  ng-class="{'last-field': $last}">
                                    <div class="field-wrapper {{field.align}}"
                                         ng-click="selectField($event, field)"
                                         id="field_{{field.fieldId}}"
                                         ng-class="{'hover': state.editField == field && state.mode == 'editField'}">
                                        <field-item type="{{field.fieldType}}" ></field-item>
                                        <div class="field-sort" >
                                            <em sortable-item-handle></em>
                                        </div>
                                        <div class="field-control">
                                            <a class="copy" ng-if="field.fieldType != 'goods'" ng-click='copyField(field,$index);$event.stopPropagation();'>复制</a>
                                            <a class="delete" ng-click="deleteField(field,$index);$event.stopPropagation();">删除</a>
                                        </div>
                                        <em class="indiciator"></em>
                                    </div>
                                    <div ng-cloak data-field-id="{{field.fieldId}}"
                                         data-field-index="{{ $index }}"
                                         class="field-occupy"
                                         ng-show="state | showOccupy : $index">
                                    </div>
                                </div>
                            </div>
                            <div ng-cloak class="field-occupy" ng-show="state | showInitOccupy">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-footer ng-scope" ng-controller="FormActionCtrl" id="form-footer">
                    <a href="javascript:void(0);" class="ui-button-gray" ng-click="preview()">预览</a>
                    <a href="javascript:void(0);" class="ui-button-gold" ng-click="saveForm()">保存表单</a>
                </div>
            </div>
            <div class="settings right-pane ng-scope">
                <div tab-nav="" class="tab-nav ng-isolate-scope" pane-position="right">
                    <tab-pane tab-title="组件设置" mode="editField" class="ng-scope ng-isolate-scope">
                        <div style="overflow-y: auto;overflow-x: hidden;" class="ng-scope">
                            <div id="field-editor-wrapper">
                                <div class="setting-editor filed-setting" id="editField">
                                    <field-editor>
                                        <no-field-editor class="ng-scope">
                                            <div class="no-field setting-group">
                                                <label class="first">未选择任何组件</label>
                                            </div>
                                        </no-field-editor>
                                    </field-editor>
                                </div>
                            </div>
                        </div>
                    </tab-pane>
                </div>
            </div>
        </div>

        <!--容器-->
        <script type="text/template" id="tab-nav-tpl">
            <div class="tabs">
                <ul class="fn-clear">
                    <li ng-repeat="pane in panes" class="{{pane.mode}}" ng-class="{selected: state.mode == pane.mode }">{{pane.tabTitle}}</li>
                </ul>
            </div>
            <div class="tab-content" ng-transclude></div>
        </script>
        <script type="text/template" id="tab-pane-tpl">

            <div class="pane {{mode}}" ng-show="state.mode == mode" ng-transclude></div>

        </script>

        <!--常规组件-->
        <script type="text/template" id="text-input-tpl">
            <div class="field-group">
                <label>{{field.label || '未命名标题'}}</label>
                <input type="text" placeholder="{{field.placeholder}}" />
            </div>
        </script>
        <!-- 用户信息组件 -->

        <!------------------------ 组件设置 ---------------------->
        <script type="text/template" id="no-field-editor-tpl">
            <div class='no-field setting-group'>
                <label class="first">未选择任何组件</label>
            </div>
        </script>
        <script type="text/template" id="text-input-editor-tpl">
            <div>
                <label-setting></label-setting>
                <placeholder-setting></placeholder-setting>
                <validator-setting>
                    <required-validator></required-validator>
                    <min-validator></min-validator>
                </validator-setting>
            </div>
        </script>
        <!-- 用户信息组件设置 -->
        
        <!-- 组件设置项 -->
        <script type="text/template" id="label-setting-tpl">
            <div class="setting-group">
                <label class="first" ng-if="field.fieldType != 'splitLine'">标题</label>
                <label class="first" ng-if="field.fieldType == 'splitLine'">分割线说明</label>
                <div>
                    <input type="text" ng-model="field.label" ng-if="field.fieldType != 'splitLine'" input-hint="未命名标题" />
                    <input type="text" ng-model="field.label" ng-if="field.fieldType == 'splitLine'" placeholder="选填" />
                </div>
            </div>
        </script>
        <script type="text/template" id="placeholder-setting-tpl">
            <div class="setting-group">
                <label>填写提示或说明</label>
                <div>
                    <textarea type="text" ng-model="field.placeholder"></textarea>
                </div>
            </div>
        </script>
        <script type="text/template" id="validator-setting-tpl">
            <div class="setting-group">
                <label>验证</label>
                <div>
                    <ul ng-transclude></ul>
                </div>
            </div>
        </script>
        <script type="text/template" id="required-validator-tpl">
            <li class="required">
                <input type="checkbox" ng-model="required" ng-change="setIfChanged()" />必填
            </li>
        </script>
        <script type="text/template" id="min-validator-tpl">
            <li>
                <input type="checkbox" ng-change="setIfChanged()" ng-model="checked" />最少填写
                <input type="text" class="min-length" ng-change="setIfChanged()" ng-model="length" ng-pattern="/^\d+$/" ng-required="checked" /> 个字符
            </li>
        </script>
        <script src="./location_v2.js"></script>
        <!--<script src="./lib/ueditor/ueditor.config.js"></script>
        <script src="./lib/ueditor/ueditor.all.js"></script>-->
        <script src="./lib/jquery/jquery-1.9.0.js"></script>
        <!--<script src="./ZeroClipboard.min.js"></script>-->
        <script src="./lib/angular/angular.min.js"></script>
        <script src="./lib/angular/angular-sanitize.min.js"></script>
        <script src="./lib/angular/angular-animate.min.js"></script>
        <script src="./lib/angular/ng-datetime.js"></script>
        <script src="./lib/angular/ng-sortable.min.js"></script>
        <!--<script src="./uploader.js"></script>-->
        <script src="./create1.js"></script>
        <script src="./fields1.js"></script>
    </div>
</div>    
</body>
</html>